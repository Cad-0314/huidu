<div class="card">
    <div class="card-header d-flex justify-between align-center">
        <h3 data-i18n="settlement_history">Settlement History</h3>
        <div class="d-flex align-center gap-2" style="gap: 10px;">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="stSearch" placeholder="Search..." data-i18n="search"
                    onkeyup="debounce(loadSettlementHistory, 500)()">
            </div>
            <button class="btn btn-primary btn-sm" onclick="showSettlementModal()">
                <i class="fas fa-plus"></i> <span data-i18n="request_settlement">Request Settlement</span>
            </button>
        </div>
    </div>
    <div class="filter-bar">
        <div class="form-group">
            <label class="d-none">Start</label>
            <input type="date" id="stStartDate" class="form-control form-control-sm">
        </div>
        <div class="form-group">
            <label class="d-none">End</label>
            <input type="date" id="stEndDate" class="form-control form-control-sm">
        </div>
        <div class="form-group">
            <label class="d-none">Status</label>
            <select id="stStatus" class="form-control form-control-sm">
                <option value="" data-i18n="all">All Status</option>
                <option value="success" data-i18n="success">Success</option>
                <option value="processing" data-i18n="processing">Processing</option>
                <option value="failed" data-i18n="failed">Failed</option>
            </select>
        </div>
        <button class="btn btn-primary btn-sm" onclick="loadSettlementHistory(1)">
            <i class="fas fa-filter"></i> <span data-i18n="filter">Filter</span>
        </button>
        <button class="btn btn-secondary btn-sm" onclick="resetSettlementFilters()">
            <i class="fas fa-undo"></i> <span data-i18n="reset">Reset</span>
        </button>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th data-i18n="order_id">Order ID</th>
                    <th data-i18n="type">Type</th>
                    <th data-i18n="amount">Amount</th>
                    <th data-i18n="fee">Fee</th>
                    <th data-i18n="net">Net</th>
                    <th data-i18n="account">Account/Wallet</th>
                    <th data-i18n="status">Status</th>
                    <th data-i18n="time_initiated">Initiated Time</th>
                    <th data-i18n="time_updated">Updated Time</th>
                </tr>
            </thead>
            <tbody id="settlementList">
                <tr>
                    <td colspan="8" class="text-muted" style="text-align:center;" data-i18n="loading">Loading...</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="stPagination" class="p-3"></div>
</div>

<style>
    .tabs {
        display: flex;
        gap: 10px;
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 10px;
    }

    .tab-btn {
        background: none;
        border: none;
        padding: 8px 16px;
        color: var(--text-muted);
        cursor: pointer;
        font-weight: 500;
        border-radius: 6px;
        transition: all 0.2s;
    }

    .tab-btn.active {
        background: var(--primary);
        color: white;
    }

    .tab-btn:hover:not(.active) {
        background: var(--bg-secondary);
        color: var(--text-main);
    }

    .avail-balance {
        font-weight: bold;
        color: var(--success);
    }
</style>