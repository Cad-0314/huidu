<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huidu Payment Gateway - API Reference</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
            --border: #334155;
            --code-bg: #0f172a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            line-height: 1.6;
            display: flex;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .logo {
            padding: 0 1.5rem 2rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .logo img {
            height: 32px;
        }

        .logo h1 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #fff;
        }

        .nav-item {
            display: block;
            padding: 0.75rem 1.5rem;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .nav-item:hover,
        .nav-item.active {
            color: #fff;
            background: rgba(255, 255, 255, 0.05);
            border-left-color: var(--primary);
        }

        .nav-group {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin: 1.5rem 1.5rem 0.5rem;
            font-weight: 600;
        }

        /* Main Content */
        .main {
            margin-left: 260px;
            padding: 3rem 4rem;
            max-width: 1000px;
            width: 100%;
        }

        h1,
        h2,
        h3 {
            color: #fff;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2.5rem;
            border-bottom: 1px solid var(--border);
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
        }

        h2 {
            font-size: 1.75rem;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            border-bottom: 1px solid var(--border);
            padding-bottom: 0.5rem;
        }

        h3 {
            font-size: 1.25rem;
            margin-top: 2rem;
            color: #e2e8f0;
        }

        p,
        li {
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        ul {
            padding-left: 1.5rem;
        }

        /* Code Blocks */
        pre {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            border: 1px solid var(--border);
            position: relative;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: #a5b4fc;
        }

        p code {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            color: #e2e8f0;
        }

        .method {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            margin-right: 0.75rem;
        }

        .post {
            background: rgba(99, 102, 241, 0.2);
            color: #818cf8;
        }

        .get {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
        }

        .endpoint {
            font-family: 'JetBrains Mono', monospace;
            color: #e2e8f0;
            font-size: 1rem;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.9rem;
        }

        .param-table th,
        .param-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .param-table th {
            color: #fff;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.02);
        }

        .param-table td {
            color: var(--text-muted);
            vertical-align: top;
        }

        .required {
            color: #f43f5e;
            font-size: 0.7rem;
            background: rgba(244, 63, 94, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 0.5rem;
            text-transform: uppercase;
            font-weight: 600;
        }

        .optional {
            color: #94a3b8;
            font-size: 0.7rem;
            background: rgba(148, 163, 184, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 0.5rem;
            text-transform: uppercase;
            font-weight: 600;
        }

        .badge {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 99px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        .badge-warning {
            background: rgba(234, 179, 8, 0.1);
            color: #facc15;
            border: 1px solid rgba(234, 179, 8, 0.2);
        }
    </style>
</head>

<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>VSPAY API</h1>
        </div>
        <div style="padding: 0 1.5rem 1rem;">
            <button id="langToggle" class="btn btn-secondary btn-sm" onclick="window.changeLanguage()"
                style="width: 100%; justify-content: start;">
                <span style="font-size:1.2rem; margin-right:5px;">ðŸ‡ºðŸ‡¸</span> EN
            </button>
        </div>
        <nav>
            <div class="nav-group" data-i18n="getting_started">Getting Started</div>
            <a href="#intro" class="nav-item" data-i18n="introduction">Introduction</a>
            <a href="#auth" class="nav-item" data-i18n="authentication">Authentication</a>

            <div class="nav-group" data-i18n="pay_in_deposits">Pay-In (Deposits)</div>
            <a href="#payin-create" class="nav-item" data-i18n="create_order">Create Order</a>
            <a href="#payin-query" class="nav-item" data-i18n="query_status">Query Status</a>
            <a href="#payin-submit-utr" class="nav-item" data-i18n="submit_utr">Submit UTR</a>

            <div class="nav-group" data-i18n="pay_out_withdrawals">Pay-Out (Withdrawals)</div>
            <a href="#payout-bank" class="nav-item" data-i18n="bank_transfer">Bank Transfer</a>
            <a href="#payout-usdt" class="nav-item" data-i18n="usdt_transfer">USDT Transfer</a>
            <a href="#payout-query" class="nav-item" data-i18n="query_status">Query Status</a>

            <div class="nav-group" data-i18n="utilities">Utilities</div>
            <a href="#balance-query" class="nav-item" data-i18n="check_balance">Check Balance</a>
            <a href="#callbacks" class="nav-item" data-i18n="webhooks">Webhooks</a>
        </nav>
    </aside>

    <main class="main">
        <section id="intro">
            <h1 data-i18n="introduction">Introduction</h1>
            <p data-i18n="intro_desc">Welcome to the VSPAY Payment Gateway API. This documentation provides a
                comprehensive guide to
                integrating our secure payment solutions for deposits (Pay-In) and withdrawals (Pay-Out).</p>
            <p><strong data-i18n="version">Version:</strong> 2.1<br>
                <strong data-i18n="base_url">Base URL:</strong> <code>https://your-domain.com</code>
            </p>
            <p data-i18n="req_https">All requests must be made over HTTPS with
                <code>Content-Type: application/json</code>.</p>
        </section>

        <section id="auth">
            <h2 data-i18n="authentication">Authentication</h2>
            <p data-i18n="auth_desc">We strictly use <strong>Header-Based Authentication</strong> using HMAC-MD5
                signatures. Every request
                must be authenticated.</p>

            <h3 data-i18n="req_headers">Required Headers</h3>
            <table class="param-table">
                <tr>
                    <th data-i18n="header_name">Header</th>
                    <th data-i18n="example_val">Example Value</th>
                    <th data-i18n="description">Description</th>
                </tr>
                <tr>
                    <td><code>x-merchant-id</code></td>
                    <td><code>550e8400-e29b...</code></td>
                    <td data-i18n="merchant_uuid_desc">Your unique Merchant UUID.</td>
                </tr>
                <tr>
                    <td><code>x-signature</code></td>
                    <td><code>a1b2c3d4e5...</code></td>
                    <td data-i18n="sig_desc">The MD5 hash of your request body.</td>
                </tr>
            </table>

            <h3 data-i18n="gen_sig">Generating the Signature</h3>
            <div class="badge badge-warning" data-i18n="formula">Formula</div>
            <p><code>Signature = MD5( JSON_String_Body + Merchant_Secret_Key )</code></p>

            <h3 data-i18n="node_ex">Node.js Example</h3>
            <pre><code>const crypto = require('crypto');

// 1. Prepare Body (Must match exactly what you send)
const body = JSON.stringify({
    orderId: "ORD-123",
    amount: 100
});

// 2. Your Secret Key
const secretKey = "YOUR_MERCHANT_SECRET_KEY";

// 3. Generate MD5 Hash
const signature = crypto.createHash('md5').update(body + secretKey).digest('hex');

// 4. Send Request
// Headers: { 
//   'Content-Type': 'application/json',
//   'x-merchant-id': 'YOUR_UUID',
//   'x-signature': signature 
// }</code></pre>
        </section>

        <section id="payin-create">
            <h2 data-i18n="create_order">Create Pay-In Order</h2>
            <p data-i18n="create_payin_desc">Generate a payment link to collect funds from a user.</p>
            <p><span class="method post">POST</span> <span class="endpoint">/api/payin/create</span></p>

            <table class="param-table">
                <tr>
                    <th data-i18n="parameter">Parameter</th>
                    <th data-i18n="param_type">Type</th>
                    <th data-i18n="description">Description</th>
                </tr>
                <tr>
                    <td><code>orderId</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td>Unique Order ID (Max 64 chars).</td>
                </tr>
                <tr>
                    <td><code>orderAmount</code></td>
                    <td>Number <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="placeholder_min_100">Amount to collect (Min 100).</td>
                </tr>
                <tr>
                    <td><code>callbackUrl</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td>Your HTTPS URL to receive webhook notifications.</td>
                </tr>
                <tr>
                    <td><code>skipUrl</code></td>
                    <td>String <span class="optional" data-i18n="optional">Optional</span></td>
                    <td>Redirect URL for the user after payment.</td>
                </tr>
                <tr>
                    <td><code>param</code></td>
                    <td>String <span class="optional" data-i18n="optional">Optional</span></td>
                    <td data-i18n="placeholder_min_100">Custom data to return in callback.</td>
                </tr>
            </table>

            <h3 data-i18n="ex_request">Example Request</h3>
            <pre><code>{
    "orderId": "MC001-998877",
    "orderAmount": 500,
    "callbackUrl": "https://mysite.com/webhook",
    "skipUrl": "https://mysite.com/success"
}</code></pre>

            <h3 data-i18n="success_response">Success Response</h3>
            <pre><code>{
    "code": 1,
    "msg": "Order created",
    "data": {
        "orderId": "MC001-998877",
        "id": "e0b5...88",
        "orderAmount": 500,
        "paymentUrl": "https://gateway.com/pay/MC001-998877"
    }
}</code></pre>
        </section>

        <section id="payin-query">
            <h2 data-i18n="query_status">Query Pay-In Status</h2>
            <p data-i18n="query_payin_desc">Check the real-time status of a deposit.</p>
            <p><span class="method post">POST</span> <span class="endpoint">/api/payin/query</span></p>

            <table class="param-table">
                <tr>
                    <th data-i18n="parameter">Parameter</th>
                    <th data-i18n="param_type">Type</th>
                    <th data-i18n="description">Description</th>
                </tr>
                <tr>
                    <td><code>orderId</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td>Your unique Order ID.</td>
                </tr>
            </table>

            <h3 data-i18n="success_response">Response</h3>
            <pre><code>{
    "code": 1,
    "data": {
        "orderId": "MC001-998877",
        "status": "success", // pending, success, failed
        "amount": 500,
        "utr": "123456789012",
        "createdAt": "2025-01-01T12:00:00Z"
    }
}</code></pre>
        </section>

        <section id="payin-submit-utr">
            <h2 data-i18n="submit_utr">Submit UTR (Manual Claim)</h2>
            <p data-i18n="submit_utr_desc">If a user has paid but the order is pending, submit the UTR for verification.
            </p>
            <p><span class="method post">POST</span> <span class="endpoint">/api/payin/submit-utr</span></p>

            <table class="param-table">
                <tr>
                    <th data-i18n="parameter">Parameter</th>
                    <th data-i18n="param_type">Type</th>
                    <th data-i18n="description">Description</th>
                </tr>
                <tr>
                    <td><code>orderId</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td>The pending Order ID.</td>
                </tr>
                <tr>
                    <td><code>utr</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="placeholder_utr_12">The 12-digit UTR/Reference Number.</td>
                </tr>
            </table>

            <h3 data-i18n="success_response">Response</h3>
            <pre><code>{
    "code": 1,
    "msg": "UTR Submitted successfully",
    "data": {
        "orderId": "MC001-998877",
        "status": "processing"
    }
}</code></pre>
        </section>

        <section id="payout-bank">
            <h2 data-i18n="bank_transfer">Bank Payout</h2>
            <p data-i18n="bank_payout_desc">Transfer funds to a bank account via IMPS/NEFT.</p>
            <p><span class="method post">POST</span> <span class="endpoint">/api/payout/bank</span></p>

            <table class="param-table">
                <tr>
                    <th data-i18n="parameter">Parameter</th>
                    <th data-i18n="param_type">Type</th>
                    <th data-i18n="description">Description</th>
                </tr>
                <tr>
                    <td><code>orderId</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td>Unique Transaction ID.</td>
                </tr>
                <tr>
                    <td><code>amount</code></td>
                    <td>Number <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="placeholder_min_100">Amount to withdraw (Min 100).</td>
                </tr>
                <tr>
                    <td><code>account</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="label_account_number">Beneficiary Account Number.</td>
                </tr>
                <tr>
                    <td><code>ifsc</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="label_ifsc">Beneficiary IFSC Code.</td>
                </tr>
                <tr>
                    <td><code>personName</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="label_holder_name">Account Holder Name.</td>
                </tr>
                <tr>
                    <td><code>code</code></td>
                    <td>String <span class="optional" data-i18n="optional">Optional</span></td>
                    <td data-i18n="label_2fa_opt">2FA Code (Required for Dashboard, Optional for API).</td>
                </tr>
            </table>
        </section>

        <section id="payout-usdt">
            <h2 data-i18n="usdt_transfer">USDT Payout</h2>
            <p data-i18n="usdt_payout_desc">Transfer funds to a crypto wallet (TRC20).</p>
            <p><span class="method post">POST</span> <span class="endpoint">/api/payout/usdt</span></p>

            <table class="param-table">
                <tr>
                    <th data-i18n="parameter">Parameter</th>
                    <th data-i18n="param_type">Type</th>
                    <th data-i18n="description">Description</th>
                </tr>
                <tr>
                    <td><code>orderId</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td>Unique Transaction ID.</td>
                </tr>
                <tr>
                    <td><code>amount</code></td>
                    <td>Number <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="placeholder_inr_min_500usdt">Amount in INR (Min equivalent of 500 USDT).</td>
                </tr>
                <tr>
                    <td><code>walletAddress</code></td>
                    <td>String <span class="required" data-i18n="required">Required</span></td>
                    <td data-i18n="label_wallet_address">TRC20 Wallet Address.</td>
                </tr>
                <tr>
                    <td><code>code</code></td>
                    <td>String <span class="optional" data-i18n="optional">Optional</span></td>
                    <td data-i18n="label_2fa_opt">2FA Code (Required for Dashboard, Optional for API).</td>
                </tr>
            </table>
        </section>

        <section id="balance-query">
            <h2 data-i18n="check_balance">Check Balance</h2>
            <p data-i18n="check_balance_desc">Get your current available balance.</p>
            <p><span class="method post">POST</span> <span class="endpoint">/api/balance/query</span></p>
            <p><strong>Body:</strong> <code>{}</code> (Empty JSON Object)</p>

            <h3 data-i18n="success_response">Response</h3>
            <pre><code>{
    "code": 1,
    "msg": "Success",
    "data": {
        "availableAmount": 10050.00,
        "pendingAmount": 0,
        "totalAmount": 10050.00
    }
}</code></pre>
        </section>

        <section id="callbacks">
            <h2 data-i18n="webhooks">Webhooks (Callbacks)</h2>
            <p data-i18n="webhook_desc">We send a POST request to your <code>callbackUrl</code> when a transaction
                reaches a final state.</p>

            <h3 data-i18n="webhook_struct">Notification Structure</h3>
            <pre><code>{
    "status": 1,                // 1 = Success, 0 = Failed
    "amount": 500,              // Final Amount
    "orderId": "MC001-998877",  // Your Order ID
    "utr": "123456789012",      // Bank UTR
    "sign": "a1b2c3d4..."       // MD5 Signature
}</code></pre>

            <h3 data-i18n="verify_webhook_sig">Verifying Callback Signature</h3>
            <p data-i18n="verify_webhook_desc">You <strong>must</strong> verify the signature to ensure the request is
                from us.</p>
            <div class="badge badge-warning" data-i18n="formula">Formula</div>
            <p><code>sign == MD5( JSON_String_Body + Merchant_Secret_Key )</code></p>
            <p>Depending on your server framework, ensure you allow us to send the raw JSON body.</p>
        </section>

    </main>
    <script src="/js/i18n.js"></script>
    <script>
        // Initialize Language
        if (window.initLanguage) {
            window.initLanguage();
        }
    </script>
</body>

</html>